# Get all orders with pagination
query GetOrders($first: Int!, $after: String, $query: String) {
  orders(first: $first, after: $after, query: $query) {
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    edges {
      node {
        id
        name
        email
        phone
        createdAt
        updatedAt
        processedAt
        cancelledAt
        cancelReason
        currency
        totalPriceSet {
          shopMoney {
            amount
            currencyCode
          }
        }
        subtotalPriceSet {
          shopMoney {
            amount
            currencyCode
          }
        }
        totalTaxSet {
          shopMoney {
            amount
            currencyCode
          }
        }
        totalShippingPriceSet {
          shopMoney {
            amount
            currencyCode
          }
        }
        customer {
          id
          firstName
          lastName
          email
          phone
        }
        lineItems(first: 250) {
          edges {
            node {
              id
              title
              quantity
              sku
              variant {
                id
                title
                sku
                price
              }
            }
          }
        }
        shippingAddress {
          firstName
          lastName
          address1
          address2
          city
          province
          country
          zip
          phone
        }
        billingAddress {
          firstName
          lastName
          address1
          address2
          city
          province
          country
          zip
          phone
        }
      }
    }
  }
}

# Get a specific order by ID
query GetOrder($id: ID!) {
  order(id: $id) {
    id
    name
    email
    phone
    createdAt
    updatedAt
    processedAt
    cancelledAt
    cancelReason
    currency
    totalPriceSet {
      shopMoney {
        amount
        currencyCode
      }
    }
    subtotalPriceSet {
      shopMoney {
        amount
        currencyCode
      }
    }
    totalTaxSet {
      shopMoney {
        amount
        currencyCode
      }
    }
    totalShippingPriceSet {
      shopMoney {
        amount
        currencyCode
      }
    }
    customer {
      id
      firstName
      lastName
      email
      phone
    }
    lineItems(first: 250) {
      edges {
        node {
          id
          title
          quantity
          sku
          variant {
            id
            title
            sku
            price
          }
        }
      }
    }
    shippingAddress {
      firstName
      lastName
      address1
      address2
      city
      province
      country
      zip
      phone
    }
    billingAddress {
      firstName
      lastName
      address1
      address2
      city
      province
      country
      zip
      phone
    }
  }
}

# Get orders by customer
query GetOrdersByCustomer($customerId: ID!, $first: Int!, $after: String) {
  customer(id: $customerId) {
    id
    orders(first: $first, after: $after) {
      pageInfo {
        hasNextPage
        hasPreviousPage
        startCursor
        endCursor
      }
      edges {
        node {
          id
          name
          email
          phone
          createdAt
          updatedAt
          processedAt
          cancelledAt
          cancelReason
          currency
          totalPriceSet {
            shopMoney {
              amount
              currencyCode
            }
          }
          lineItems(first: 10) {
            edges {
              node {
                id
                title
                quantity
                sku
              }
            }
          }
        }
      }
    }
  }
}

# Get order analytics
query GetOrderAnalytics($query: String!) {
  orders(query: $query) {
    edges {
      node {
        id
        name
        createdAt
        totalPriceSet {
          shopMoney {
            amount
            currencyCode
          }
        }
        customer {
          id
          firstName
          lastName
          email
        }
      }
    }
  }
}
