# Get payment transactions (balance transactions) with pagination
query GetPaymentTransactions($first: Int!, $after: String) {
  balanceTransactions(first: $first, after: $after) {
    pageInfo {
      hasNextPage
      hasPreviousPage
      startCursor
      endCursor
    }
    edges {
      node {
        id
        type
        test
        payoutId
        payoutStatus
        currency
        amount
        fee
        net
        sourceId
        sourceType
        sourceOrderId
        sourceOrderLegacyResourceId
        processedAt
        createdAt
        description
        failureCode
        failureMessage
        kind
        status
      }
    }
  }
}

# Get payment transactions for a specific payout
query GetPaymentTransactionsByPayout($payoutId: ID!, $first: Int!, $after: String) {
  payout(id: $payoutId) {
    id
    status
    currency
    amount
    date
    summary {
      adjustmentsFeeAmount {
        amount
        currencyCode
      }
      adjustmentsGrossAmount {
        amount
        currencyCode
      }
      chargesFeeAmount {
        amount
        currencyCode
      }
      chargesGrossAmount {
        amount
        currencyCode
      }
      refundsFeeAmount {
        amount
        currencyCode
      }
      refundsGrossAmount {
        amount
        currencyCode
      }
      reservedFeeAmount {
        amount
        currencyCode
      }
      reservedGrossAmount {
        amount
        currencyCode
      }
      retriedPayoutsFeeAmount {
        amount
        currencyCode
      }
      retriedPayoutsGrossAmount {
        amount
        currencyCode
      }
    }
    balanceTransactions(first: $first, after: $after) {
      pageInfo {
        hasNextPage
        hasPreviousPage
        startCursor
        endCursor
      }
      edges {
        node {
          id
          type
          test
          payoutId
          payoutStatus
          currency
          amount
          fee
          net
          sourceId
          sourceType
          sourceOrderId
          sourceOrderLegacyResourceId
          processedAt
          createdAt
          description
          failureCode
          failureMessage
          kind
          status
        }
      }
    }
  }
}
